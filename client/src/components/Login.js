import React, { Component } from 'react'
import AuthService from '../services/AuthService'




export default class Login extends Component {
  constructor(props) {
    super(props);
    // console.log(props)
    this.authService = new AuthService();
  }

  state = {
    username: '',
    password: ''
  }

  handleChange = (e) => {
    const { name, value } = e.target;
    this.setState({...this.state, [name]:value})
    
  }

  handleLogin = (e) => {
  
    const { setUser, history } = this.props;
    e.preventDefault()
    this.authService.login(this.state)
    .then(
      (user) => {
        setUser(user)
        history.push("/select")
      },
      (error) => {
        console.error(error)
      }
    )
  }

  render() {
   console.log(this.state)
    const { username, password } = this.state;
    return (
      <div className="full">
        <div className='flex center'>
        <div className='login-svg'>
        <svg width="200" viewBox="0 0 151 31" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.69107 4.8H12.1871V23.412H23.5631V30H3.69107V4.8ZM46.3218 30.576C43.6098 30.576 41.1738 30.012 39.0138 28.884C36.8538 27.756 35.1618 26.196 33.9378 24.204C32.7138 22.188 32.1018 19.92 32.1018 17.4C32.1018 14.88 32.7138 12.624 33.9378 10.632C35.1618 8.616 36.8538 7.044 39.0138 5.916C41.1738 4.788 43.6098 4.224 46.3218 4.224C49.0338 4.224 51.4698 4.788 53.6298 5.916C55.7898 7.044 57.4818 8.616 58.7058 10.632C59.9298 12.624 60.5418 14.88 60.5418 17.4C60.5418 19.92 59.9298 22.188 58.7058 24.204C57.4818 26.196 55.7898 27.756 53.6298 28.884C51.4698 30.012 49.0338 30.576 46.3218 30.576ZM46.3218 23.7C47.3778 23.7 48.3258 23.448 49.1658 22.944C50.0298 22.416 50.7138 21.684 51.2178 20.748C51.7218 19.788 51.9738 18.672 51.9738 17.4C51.9738 16.128 51.7218 15.024 51.2178 14.088C50.7138 13.128 50.0298 12.396 49.1658 11.892C48.3258 11.364 47.3778 11.1 46.3218 11.1C45.2658 11.1 44.3058 11.364 43.4418 11.892C42.6018 12.396 41.9298 13.128 41.4258 14.088C40.9218 15.024 40.6698 16.128 40.6698 17.4C40.6698 18.672 40.9218 19.788 41.4258 20.748C41.9298 21.684 42.6018 22.416 43.4418 22.944C44.3058 23.448 45.2658 23.7 46.3218 23.7ZM87.4934 16.716H94.8734V27.372C93.3854 28.404 91.6574 29.196 89.6894 29.748C87.7214 30.3 85.7894 30.576 83.8934 30.576C81.2054 30.576 78.7934 30.024 76.6574 28.92C74.5214 27.792 72.8414 26.232 71.6174 24.24C70.4174 22.224 69.8174 19.944 69.8174 17.4C69.8174 14.856 70.4174 12.588 71.6174 10.596C72.8414 8.58 74.5334 7.02 76.6934 5.916C78.8774 4.788 81.3374 4.224 84.0734 4.224C86.5454 4.224 88.7534 4.644 90.6974 5.484C92.6654 6.3 94.2974 7.5 95.5934 9.084L90.1574 13.872C88.5734 12.024 86.6894 11.1 84.5054 11.1C82.6334 11.1 81.1454 11.664 80.0414 12.792C78.9374 13.92 78.3854 15.456 78.3854 17.4C78.3854 19.296 78.9254 20.82 80.0054 21.972C81.1094 23.124 82.5734 23.7 84.3974 23.7C85.4774 23.7 86.5094 23.496 87.4934 23.088V16.716ZM105.693 4.8H114.189V30H105.693V4.8ZM150.319 4.8V30H143.335L133.759 18.552V30H125.479V4.8H132.463L142.039 16.248V4.8H150.319Z" fill="#FDED01"/>
<path d="M1.69107 1.8V0.799998H0.691069V1.8H1.69107ZM10.1871 1.8H11.1871V0.799998H10.1871V1.8ZM10.1871 20.412H9.18707V21.412H10.1871V20.412ZM21.5631 20.412H22.5631V19.412H21.5631V20.412ZM21.5631 27V28H22.5631V27H21.5631ZM1.69107 27H0.691069V28H1.69107V27ZM1.69107 2.8H10.1871V0.799998H1.69107V2.8ZM9.18707 1.8V20.412H11.1871V1.8H9.18707ZM10.1871 21.412H21.5631V19.412H10.1871V21.412ZM20.5631 20.412V27H22.5631V20.412H20.5631ZM21.5631 26H1.69107V28H21.5631V26ZM2.69107 27V1.8H0.691069V27H2.69107ZM37.0138 25.884L37.4767 24.9976L37.0138 25.884ZM31.9378 21.204L31.083 21.723L31.0858 21.7275L31.9378 21.204ZM31.9378 7.632L32.7898 8.15553L32.7926 8.15098L31.9378 7.632ZM51.6298 2.916L52.0927 2.02959L52.0927 2.02959L51.6298 2.916ZM56.7058 7.632L55.851 8.15098L55.8538 8.15552L56.7058 7.632ZM56.7058 21.204L57.5578 21.7275L57.5606 21.723L56.7058 21.204ZM51.6298 25.884L52.0927 26.7704L52.0927 26.7704L51.6298 25.884ZM47.1658 19.944L47.6803 20.8015L47.6873 20.7973L47.1658 19.944ZM49.2178 17.748L50.0983 18.2221L50.1032 18.2128L49.2178 17.748ZM49.2178 11.088L48.3324 11.5529L48.3373 11.5621L49.2178 11.088ZM47.1658 8.892L46.6336 9.73864L46.6477 9.74744L46.6619 9.75578L47.1658 8.892ZM41.4418 8.892L41.9563 9.74952L41.9633 9.74528L41.4418 8.892ZM39.4258 11.088L40.3063 11.5621L40.3112 11.5528L39.4258 11.088ZM39.4258 17.748L38.5404 18.2129L38.5453 18.2221L39.4258 17.748ZM41.4418 19.944L40.9096 20.7906L40.9237 20.7994L40.9379 20.8078L41.4418 19.944ZM44.3218 26.576C41.7525 26.576 39.4783 26.0429 37.4767 24.9976L36.5509 26.7704C38.8693 27.9811 41.4671 28.576 44.3218 28.576V26.576ZM37.4767 24.9976C35.4697 23.9495 33.9152 22.5119 32.7898 20.6805L31.0858 21.7275C32.4085 23.8801 34.2379 25.5625 36.5509 26.7704L37.4767 24.9976ZM32.7926 20.685C31.6701 18.8362 31.1018 16.75 31.1018 14.4H29.1018C29.1018 17.09 29.7575 19.5398 31.083 21.723L32.7926 20.685ZM31.1018 14.4C31.1018 12.0499 31.6701 9.97778 32.7898 8.15552L31.0858 7.10847C29.7575 9.27022 29.1018 11.7101 29.1018 14.4H31.1018ZM32.7926 8.15098C33.9187 6.29625 35.4728 4.84891 37.4767 3.80241L36.5509 2.02959C34.2349 3.23909 32.4049 4.93575 31.083 7.11302L32.7926 8.15098ZM37.4767 3.80241C39.4783 2.75714 41.7525 2.224 44.3218 2.224V0.223999C41.4671 0.223999 38.8693 0.818858 36.5509 2.02959L37.4767 3.80241ZM44.3218 2.224C46.8911 2.224 49.1653 2.75714 51.1669 3.80241L52.0927 2.02959C49.7743 0.818858 47.1765 0.223999 44.3218 0.223999V2.224ZM51.1669 3.80241C53.1709 4.84891 54.7249 6.29625 55.851 8.15098L57.5606 7.11302C56.2387 4.93575 54.4088 3.23909 52.0927 2.02959L51.1669 3.80241ZM55.8538 8.15552C56.9735 9.97778 57.5418 12.0499 57.5418 14.4H59.5418C59.5418 11.7101 58.8861 9.27022 57.5578 7.10847L55.8538 8.15552ZM57.5418 14.4C57.5418 16.75 56.9735 18.8362 55.851 20.685L57.5606 21.723C58.8861 19.5398 59.5418 17.09 59.5418 14.4H57.5418ZM55.8538 20.6805C54.7285 22.5119 53.1739 23.9495 51.1669 24.9976L52.0927 26.7704C54.4057 25.5625 56.2352 23.8801 57.5578 21.7275L55.8538 20.6805ZM51.1669 24.9976C49.1653 26.0429 46.8911 26.576 44.3218 26.576V28.576C47.1765 28.576 49.7743 27.9811 52.0927 26.7704L51.1669 24.9976ZM44.3218 21.7C45.5444 21.7 46.6728 21.406 47.6803 20.8015L46.6513 19.0865C45.9788 19.49 45.2112 19.7 44.3218 19.7V21.7ZM47.6873 20.7973C48.7101 20.1722 49.5147 19.306 50.0983 18.2221L48.3373 17.2739C47.913 18.062 47.3496 18.6598 46.6444 19.0907L47.6873 20.7973ZM50.1032 18.2128C50.6945 17.0865 50.9738 15.8059 50.9738 14.4H48.9738C48.9738 15.5381 48.7491 16.4895 48.3324 17.2832L50.1032 18.2128ZM50.9738 14.4C50.9738 12.9949 50.6948 11.7217 50.0983 10.6139L48.3373 11.5621C48.7488 12.3263 48.9738 13.2611 48.9738 14.4H50.9738ZM50.1032 10.6232C49.5196 9.51152 48.7094 8.6347 47.6697 8.02822L46.6619 9.75578C47.3503 10.1573 47.908 10.7445 48.3324 11.5528L50.1032 10.6232ZM47.698 8.04536C46.6882 7.41063 45.5535 7.1 44.3218 7.1V9.1C45.2022 9.1 45.9634 9.31737 46.6336 9.73864L47.698 8.04536ZM44.3218 7.1C43.0901 7.1 41.9483 7.41055 40.9204 8.03872L41.9633 9.74528C42.6633 9.31745 43.4416 9.1 44.3218 9.1V7.1ZM40.9273 8.03451C39.9135 8.64277 39.1203 9.51861 38.5404 10.6232L40.3112 11.5528C40.7393 10.7374 41.2901 10.1492 41.9563 9.74949L40.9273 8.03451ZM38.5453 10.6139C37.9488 11.7217 37.6698 12.9949 37.6698 14.4H39.6698C39.6698 13.2611 39.8948 12.3263 40.3063 11.5621L38.5453 10.6139ZM37.6698 14.4C37.6698 15.8059 37.9491 17.0865 38.5404 18.2128L40.3112 17.2832C39.8945 16.4895 39.6698 15.5381 39.6698 14.4H37.6698ZM38.5453 18.2221C39.1252 19.2991 39.9129 20.1641 40.9096 20.7906L41.974 19.0974C41.2908 18.6679 40.7344 18.0689 40.3063 17.2739L38.5453 18.2221ZM40.9379 20.8078C41.9635 21.406 43.099 21.7 44.3218 21.7V19.7C43.4326 19.7 42.6481 19.49 41.9457 19.0802L40.9379 20.8078ZM85.4934 13.716V12.716H84.4934V13.716H85.4934ZM92.8734 13.716H93.8734V12.716H92.8734V13.716ZM92.8734 24.372L93.4433 25.1937L93.8734 24.8954V24.372H92.8734ZM74.6574 25.92L74.1904 26.8043L74.1983 26.8084L74.6574 25.92ZM69.6174 21.24L68.7581 21.7515L68.7654 21.7635L69.6174 21.24ZM69.6174 7.596L68.7626 7.07702L68.7609 7.07999L69.6174 7.596ZM74.6934 2.916L75.1486 3.80644L75.1523 3.80449L74.6934 2.916ZM88.6974 2.484L88.3008 3.40197L88.3076 3.4049L88.3144 3.40774L88.6974 2.484ZM93.5934 6.084L94.2544 6.83442L94.978 6.19707L94.3674 5.45076L93.5934 6.084ZM88.1574 10.872L87.3982 11.5228L88.0578 12.2923L88.8184 11.6224L88.1574 10.872ZM78.0414 9.792L78.7561 10.4915L78.7561 10.4915L78.0414 9.792ZM78.0054 18.972L77.2759 19.656L77.2834 19.6639L78.0054 18.972ZM85.4934 20.088L85.8765 21.0117L86.4934 20.7559V20.088H85.4934ZM85.4934 14.716H92.8734V12.716H85.4934V14.716ZM91.8734 13.716V24.372H93.8734V13.716H91.8734ZM92.3035 23.5503C90.9179 24.5113 89.2939 25.2594 87.4194 25.7852L87.9595 27.7108C90.021 27.1326 91.853 26.2967 93.4433 25.1937L92.3035 23.5503ZM87.4194 25.7852C85.5325 26.3144 83.6913 26.576 81.8934 26.576V28.576C83.8876 28.576 85.9104 28.2856 87.9595 27.7108L87.4194 25.7852ZM81.8934 26.576C79.3461 26.576 77.0946 26.054 75.1166 25.0316L74.1983 26.8084C76.4923 27.994 79.0648 28.576 81.8934 28.576V26.576ZM75.1244 25.0357C73.1412 23.9884 71.5965 22.5507 70.4694 20.7165L68.7654 21.7635C70.0864 23.9133 71.9016 25.5956 74.1905 26.8043L75.1244 25.0357ZM70.4767 20.7285C69.3765 18.8802 68.8174 16.7797 68.8174 14.4H66.8174C66.8174 17.1083 67.4583 19.5678 68.7581 21.7515L70.4767 20.7285ZM68.8174 14.4C68.8174 12.0202 69.3766 9.9338 70.474 8.11201L68.7609 7.07999C67.4583 9.2422 66.8174 11.6918 66.8174 14.4H68.8174ZM70.4722 8.11498C71.5972 6.26214 73.1487 4.82859 75.1485 3.80643L74.2383 2.02556C71.9182 3.21141 70.0857 4.89785 68.7627 7.07702L70.4722 8.11498ZM75.1523 3.80449C77.179 2.75773 79.4788 2.224 82.0734 2.224V0.223999C79.1961 0.223999 76.5758 0.818268 74.2345 2.02751L75.1523 3.80449ZM82.0734 2.224C84.4316 2.224 86.5012 2.62437 88.3008 3.40197L89.0941 1.56603C87.0057 0.663628 84.6593 0.223999 82.0734 0.223999V2.224ZM88.3144 3.40774C90.1366 4.16329 91.6322 5.26612 92.8195 6.71724L94.3674 5.45076C92.9627 3.73388 91.1943 2.43671 89.0805 1.56026L88.3144 3.40774ZM92.9325 5.33358L87.4965 10.1216L88.8184 11.6224L94.2544 6.83442L92.9325 5.33358ZM88.9167 10.2212C87.1671 8.18004 85.0169 7.1 82.5054 7.1V9.1C84.362 9.1 85.9798 9.86795 87.3982 11.5228L88.9167 10.2212ZM82.5054 7.1C80.4184 7.1 78.6535 7.73693 77.3268 9.09254L78.7561 10.4915C79.6373 9.59107 80.8484 9.1 82.5054 9.1V7.1ZM77.3268 9.09254C75.9995 10.4487 75.3854 12.2586 75.3854 14.4H77.3854C77.3854 12.6534 77.8754 11.3913 78.7561 10.4915L77.3268 9.09254ZM75.3854 14.4C75.3854 16.496 75.9884 18.2826 77.2759 19.6559L78.735 18.2881C77.8625 17.3574 77.3854 16.096 77.3854 14.4H75.3854ZM77.2834 19.6639C78.6037 21.0415 80.3435 21.7 82.3974 21.7V19.7C80.8034 19.7 79.6152 19.2065 78.7274 18.2801L77.2834 19.6639ZM82.3974 21.7C83.607 21.7 84.7693 21.4708 85.8765 21.0117L85.1104 19.1643C84.2496 19.5212 83.3479 19.7 82.3974 19.7V21.7ZM86.4934 20.088V13.716H84.4934V20.088H86.4934ZM103.693 1.8V0.799998H102.693V1.8H103.693ZM112.189 1.8H113.189V0.799998H112.189V1.8ZM112.189 27V28H113.189V27H112.189ZM103.693 27H102.693V28H103.693V27ZM103.693 2.8H112.189V0.799998H103.693V2.8ZM111.189 1.8V27H113.189V1.8H111.189ZM112.189 26H103.693V28H112.189V26ZM104.693 27V1.8H102.693V27H104.693ZM148.319 1.8H149.319V0.799998H148.319V1.8ZM148.319 27V28H149.319V27H148.319ZM141.335 27L140.568 27.6416L140.868 28H141.335V27ZM131.759 15.552L132.526 14.9104L130.759 12.7979V15.552H131.759ZM131.759 27V28H132.759V27H131.759ZM123.479 27H122.479V28H123.479V27ZM123.479 1.8V0.799998H122.479V1.8H123.479ZM130.463 1.8L131.23 1.15839L130.931 0.799998H130.463V1.8ZM140.039 13.248L139.272 13.8896L141.039 16.0021V13.248H140.039ZM140.039 1.8V0.799998H139.039V1.8H140.039ZM147.319 1.8V27H149.319V1.8H147.319ZM148.319 26H141.335V28H148.319V26ZM142.102 26.3584L132.526 14.9104L130.992 16.1936L140.568 27.6416L142.102 26.3584ZM130.759 15.552V27H132.759V15.552H130.759ZM131.759 26H123.479V28H131.759V26ZM124.479 27V1.8H122.479V27H124.479ZM123.479 2.8H130.463V0.799998H123.479V2.8ZM129.696 2.44161L139.272 13.8896L140.806 12.6064L131.23 1.15839L129.696 2.44161ZM141.039 13.248V1.8H139.039V13.248H141.039ZM140.039 2.8H148.319V0.799998H140.039V2.8Z" fill="#101832"/>
</svg>
</div>

        {/* <h2>Login</h2> */}
          <form onSubmit={this.handleLogin} className='flex'>
            <label htmlFor="username">username </label>
            <input className='margin-bottom' type="text" name="username" value={username} required onChange={this.handleChange}/>
            <label htmlFor="password">password </label>
            <input className='margin-bottom' type="password" value={password} name="password" required onChange={this.handleChange}/>
            <button className="btn cta bg" type="submit" value="Login">Login</button>
          </form>
        </div>
        </div>
    )
  }
}